<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>For Sneha ğŸ’–</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Pacifico&display=swap" rel="stylesheet">

<style>
:root{
  --pink1:#ffe6f0;
  --pink2:#ffd6ea;
  --pink3:#ff6fa9;
  --pink4:#ff3b8d;
}

*{box-sizing:border-box;font-family:"Poppins",sans-serif}

/* ---------------- BODY ---------------- */
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,var(--pink1),var(--pink2));
  overflow:hidden;
  padding:16px;
  cursor:none; /* hide default for sparkles */
}

/* floating hearts bg */
body::before{
  content:"ğŸ’— ğŸ’• ğŸ’– ğŸ’ ğŸ’˜ ğŸ’ ğŸ’“ ğŸ’— ğŸ’• ğŸ’– ğŸ’ ğŸ’˜ ğŸ’ ğŸ’“";
  position:fixed;
  opacity:.12;
  font-size:22px;
  animation:float 25s linear infinite;
  width:200%;
  line-height:70px;
}
@keyframes float{
  from{transform:translateY(0)}
  to{transform:translateY(-50%)}
}

/* confetti */
#confettiCanvas{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:10;
}

/* ---------------- CARD ---------------- */
.card{
  width:100%;
  max-width:560px;
  background:rgba(255,255,255,.92);
  backdrop-filter:blur(12px);
  padding:28px 22px;
  border-radius:22px;
  text-align:center;
  box-shadow:0 20px 40px rgba(255,105,160,.25);
  position:relative;
  z-index:2;
}

h1{
  font-family:"Pacifico",cursive;
  font-size:22px;
  font-weight:400;
  color:#555;
  margin:0 0 6px;
}

.subtitle{
  font-size:13px;
  opacity:.65;
  margin-bottom:20px;
}

/* ---------------- BUTTONS ---------------- */
/* ===== Buttons ===== */
const zone = document.getElementById("zone");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const result = document.getElementById("result");

let scale = 1;

function growYes(){
  scale += .08;
  yesBtn.style.transform = `translateY(-50%) scale(${scale})`;
}

function moveNo(){
  const rect = zone.getBoundingClientRect();
  noBtn.style.left = Math.random()*(rect.width-100)+"px";
  noBtn.style.top = Math.random()*(rect.height-50)+"px";
  noBtn.style.transform = "none";
  growYes();
}

zone.addEventListener("pointermove", e=>{
  const b=noBtn.getBoundingClientRect();
  const d=Math.hypot((b.left+b.width/2)-e.clientX,(b.top+b.height/2)-e.clientY);
  if(d<120) moveNo();
});
noBtn.addEventListener("pointerdown", moveNo);

/* ---------------- RESULT ---------------- */
.result{
  display:none;
  margin-top:16px;
}

.letter{
  margin-top:12px;
  padding:14px;
  border-radius:14px;
  background:#fff0f6;
  font-size:13px;
  line-height:1.6;
  white-space:pre-line;
  text-align:left;
  min-height:120px;
}

/* ---------------- SPARKLES ---------------- */
.sparkle{
  position:fixed;
  pointer-events:none;
  font-size:16px;
  animation:fadeOut .8s linear forwards;
  z-index:9999;
}

@keyframes fadeOut{
  to{
    transform:translateY(-10px) scale(.6);
    opacity:0;
  }
}

/* mobile */
@media(max-width:480px){
  .button-zone{
    flex-direction:column;
    align-items:center;
  }
  button{width:70%}
}
</style>
</head>

<body>

<!-- ğŸ’• Background music -->
<audio id="bgMusic" loop>
  <source src="song.mp3" type="audio/mpeg">
</audio>

<canvas id="confettiCanvas"></canvas>

<div class="card">

  <h1>Sneha, will you be my Valentine? ğŸ’–</h1>
  <div class="subtitle">I made this little surprise just for you âœ¨</div>

  <div class="button-zone" id="zone">
    <button id="yesBtn">Yessss ğŸ’•</button>
    <button id="noBtn">No ğŸ™ˆ</button>
  </div>

  <div class="result" id="result">
    <h3 style="color:#ff3b8d">For my pretty little princess ğŸ’Œ</h3>
    <div class="letter" id="loveLetter"></div>
  </div>

</div>

<script>
const zone=document.getElementById("zone");
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const result=document.getElementById("result");
const letterEl=document.getElementById("loveLetter");
const music=document.getElementById("bgMusic");

/* ---------- MUSIC (starts on first tap due to browser rules) ---------- */
document.addEventListener("pointerdown",()=>{
  music.volume=0.5;
  music.play().catch(()=>{});
},{once:true});

/* ---------- CONFETTI CENTER ---------- */
const canvas = document.getElementById("confettiCanvas");
canvas.width = innerWidth;
canvas.height = innerHeight;
const confettiInstance = confetti.create(canvas,{resize:true});

function celebrate(){
  confettiInstance({particleCount:300,spread:140,startVelocity:60});
}

/* ---------- YES grows ---------- */
let scale=1;
function growYes(){
  scale+=0.07;
  yesBtn.style.transform=`scale(${scale})`;
}

/* ---------- NO runs ---------- */
function moveNo(){
  const rect=zone.getBoundingClientRect();
  noBtn.style.position="absolute";
  noBtn.style.left=Math.random()*(rect.width-80)+"px";
  noBtn.style.top=Math.random()*(rect.height-40)+"px";
  growYes();
}
zone.addEventListener("pointermove",moveNo);

/* ---------- typing letter ---------- */
const message=`Hi baby ğŸ’–

From the moment you came into my life,
everything feels softer and happier.

Your smile is my favorite thing in the world.

Will you stay my Valentine forever? ğŸ’•

Yours always â¤ï¸`;

function typeLetter(text,speed=30){
  let i=0;
  letterEl.textContent="";
  (function type(){
    if(i<text.length){
      letterEl.textContent+=text[i++];
      setTimeout(type,speed);
    }
  })();
}

yesBtn.onclick=()=>{
  zone.style.display="none";
  result.style.display="block";
  celebrate();
  typeLetter(message);
};

/* ---------- SPARKLY CURSOR TRAIL ---------- */
const sparkles=["âœ¨","ğŸ’–","ğŸŒ¸","ğŸ’—"];

function createSparkle(x,y){
  const s=document.createElement("span");
  s.className="sparkle";
  s.textContent=sparkles[Math.floor(Math.random()*sparkles.length)];
  s.style.left=x+"px";
  s.style.top=y+"px";
  document.body.appendChild(s);
  setTimeout(()=>s.remove(),800);
}

document.addEventListener("pointermove",e=>{
  createSparkle(e.clientX,e.clientY);
});
</script>

</body>
</html>
