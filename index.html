<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>For Sneha ðŸ’Œ</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;600&display=swap" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
:root{
  --pink:#ff7aa8;
  --pink2:#ffc2da;
  --lav:#efe3ff;
  --text:#5b335f;
}

*{box-sizing:border-box;}

body{
  margin:0;
  min-height:100svh;
  font-family:"Quicksand",sans-serif;
  color:var(--text);
  overflow:hidden;

  background:
    radial-gradient(circle at 25% 20%, #fff0f6, transparent 40%),
    radial-gradient(circle at 80% 80%, #f3e8ff, transparent 40%),
    linear-gradient(135deg,var(--pink2),var(--lav));

  display:flex;
  align-items:center;
  justify-content:center;
  padding:18px;
}

/* floating hearts background */
body::before{
  content:"ðŸ’— ðŸ’• ðŸ’– ðŸ’ž ðŸ’“ ðŸ’˜";
  position:fixed;
  font-size:52px;
  opacity:.06;
  letter-spacing:45px;
  animation:float 26s linear infinite;
  white-space:nowrap;
}

@keyframes float{
  from{transform:translateY(110vh);}
  to{transform:translateY(-120vh);}
}

/* envelope */
.envelope{
  width:100%;
  max-width:420px;
  height:200px;
  background:#fff;
  border-radius:22px;
  box-shadow:0 18px 50px rgba(0,0,0,.15);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  position:relative;
  font-weight:600;
  transition:.4s;
}

.envelope:active{transform:scale(.97);}

.envelope span{
  font-size:20px;
}

/* letter card */
.card{
  display:none;
  width:100%;
  max-width:420px;
  max-height:85vh;
  overflow:auto;

  background:rgba(255,255,255,.78);
  backdrop-filter:blur(18px);
  border-radius:26px;
  padding:26px 22px;
  box-shadow:0 25px 70px rgba(0,0,0,.15);

  animation:pop .35s ease;
}

@keyframes pop{
  from{opacity:0;transform:scale(.92);}
  to{opacity:1;}
}

.title{
  font-family:"Pacifico",cursive;
  font-size:34px;
  text-align:center;
  color:var(--pink);
  margin-bottom:12px;
}

/* letter text */
.letter{
  font-size:16px;
  line-height:1.7;
  white-space:pre-line;
  min-height:140px;
  margin-bottom:18px;
}

/* question */
.question{
  text-align:center;
  font-weight:600;
  font-size:20px;
  margin-bottom:12px;
}

/* mobile big buttons */
.button-zone{
  position:relative;
  height:140px;
}

button{
  position:absolute;
  width:120px;
  height:50px;
  border:none;
  border-radius:999px;
  font-size:16px;
  font-weight:600;
  cursor:pointer;
  box-shadow:0 8px 20px rgba(0,0,0,.15);
}

#yesBtn{
  left:10%;
  background:linear-gradient(45deg,#ff6aa2,#ff8bc2);
  color:white;
}

#noBtn{
  right:10%;
  background:white;
}

.result{
  display:none;
  text-align:center;
  font-family:"Pacifico";
  font-size:30px;
  color:#ff4d8d;
  margin-top:16px;
}

#confettiCanvas{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:999;
}

/* small phones */
@media (max-width:380px){
  button{width:105px;height:46px;}
}
</style>
</head>

<body>

<canvas id="confettiCanvas"></canvas>

<!-- envelope intro -->
<div class="envelope" id="envelope">
  <span>Tap to open ðŸ’Œ</span>
</div>

<!-- letter -->
<div class="card" id="card">

  <div class="title">Dear Sneha ðŸ’•</div>

  <div class="letter" id="letterText"></div>

  <div class="question">Will you be my Valentine?</div>

  <div class="button-zone" id="zone">
    <button id="yesBtn">Yes ðŸ’–</button>
    <button id="noBtn">No ðŸ™ˆ</button>
  </div>

  <div class="result" id="result">She said YES!! ðŸŽ‰âœ¨</div>

</div>

<script>
/* ---------- envelope open ---------- */
const envelope=document.getElementById("envelope");
const card=document.getElementById("card");

envelope.onclick=()=>{
  envelope.style.display="none";
  card.style.display="block";
  typeLetter();
};

/* ---------- typewriter text ---------- */
const message=`Somehow you became my favorite person.

Your smile makes my day softer.
Your laugh feels like home.

So I made this tiny love note
just to ask you something special ðŸ’—`;

const letter=document.getElementById("letterText");

function typeLetter(){
  let i=0;
  const interval=setInterval(()=>{
    letter.textContent+=message[i];
    i++;
    if(i>=message.length) clearInterval(interval);
  },25);
}

/* ---------- confetti ---------- */
const confettiInstance=confetti.create(
  document.getElementById("confettiCanvas"),
  {resize:true}
);

function celebrate(){
  confettiInstance({
    particleCount:350,
    spread:130,
    startVelocity:60,
    origin:{x:.5,y:.6}
  });
}

/* ---------- buttons ---------- */
const zone=document.getElementById("zone");
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const result=document.getElementById("result");

let scale=1;

function growYes(){
  scale+=.1;
  yesBtn.style.transform=`scale(${scale})`;
}

function clamp(n,min,max){return Math.max(min,Math.min(max,n));}

function moveNo(px,py){
  const z=zone.getBoundingClientRect();
  const b=noBtn.getBoundingClientRect();

  let dx=(b.left+b.width/2)-px;
  let dy=(b.top+b.height/2)-py;
  let mag=Math.hypot(dx,dy)||1;

  dx/=mag; dy/=mag;

  let newLeft=(b.left-z.left)+dx*120;
  let newTop=(b.top-z.top)+dy*120;

  newLeft=clamp(newLeft,0,z.width-b.width);
  newTop=clamp(newTop,0,z.height-b.height);

  noBtn.style.left=newLeft+"px";
  noBtn.style.top=newTop+"px";

  growYes();
}

zone.addEventListener("pointermove",e=>{
  const b=noBtn.getBoundingClientRect();
  const d=Math.hypot((b.left+b.width/2)-e.clientX,(b.top+b.height/2)-e.clientY);
  if(d<120) moveNo(e.clientX,e.clientY);
});

yesBtn.onclick=()=>{
  zone.style.display="none";
  result.style.display="block";
  celebrate();
};
</script>

</body>
</html>
